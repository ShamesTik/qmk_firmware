#include QMK_KEYBOARD_H
#include "keymap_german.h"
#include "sendstring_german.h"

#include "keeb_macro.h"
#include "keeb_tapdance.h"
#include "keeb_keyoverride.h"
// #include "keeb_leader.h"
// #include "keeb_unicode.h"
// #include "keeb_combo.h"

enum layer_names { BASE, SPACE_FN, CAPS_FN, FN };
/*
  Base                 ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┐     ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐
                       │ ESC │ F1  │ F2  │ F3  │ F4  │ F5  │ F6  │     │ F7  │ F8  │ F9  │ F10 │ F11 │ F12 │Print│ +   │ ─   │
  ┌─────┬─────┐        ├─────┼─────┼─────┼─────┼─────┼─────┼─────┤     ├─────┼─────┼─────┼─────┼─────┼─────┼─────┴─────┼─────│
  │Vol+ │Vol─ │        │  ~  │  1  │  2  │  3  │  4  │  5  │  6  │     │  7  │  8  │  9  │  0  │  ─  │  =  │ Backspac  │ Ins │
  ├─────┼─────┤        ├─────┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┘  ┌──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬────────┼─────│
  │Next │Prev │        │ Tab   │  Q  │  W  │  E  │  R  │  T  │      │  Z  │  U  │  I  │  O  │  P  │  Ü  │  +  │        │ Del │
  ├─────┼─────┤        ├───────┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┐    └┬────┴┬────┴┬────┴┬────┴┬────┴┬────┴┬────┴┐ Enter ├─────│
  │DM_ST│Mute │        │ LT(2)ESC│  A  │  S  │  D  │  F  │  G  │     │  H  │  J  │  K  │  L  │  Ö  │  Ä  │  #  │       │ PgUp│
  ├─────┼─────┤        ├───────┬─┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┐   └─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴───┬─┴─────┴─┬─────┼─────│
  │DM_P1│DM_P2│        │ Shift │ > │  Y  │  X  │  C  │  V  │  B  │     │  N  │  M  │  ,  │  .  │   /   │  Shift  │ Up  │ PgDn│
  ├─────┼─────┤        ├───────┼───┴──┬──┴───┬─┴─────┴───┬─┴───┬─┘   ┌─┴─────┴─────┴─┬───┴───┬─┴───┬───┴───┬─────┼─────┼─────│
  │MAIL │  2  │        │ Ctrl  │  GUI │  Alt │   Space   │MO(1)│     │ Space         │  Alt  │MO(3)│  Ctrl │ Left│ Down│Right│
  └─────┴─────┘        └───────┴──────┴──────┴───────────┴─────┘     └───────────────┴───────┴─────┴───────┴─────┴─────┴─────┘

  SPACE_FN             ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┐     ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐
                       │ ESC │ F13 │ F14 │ F15 │ F16 │ F17 │ F18 │     │ F19 │ F20 │ F21 │ F22 │ F23 │ F24 │     │ Home│ End │
  ┌─────┬─────┐        ├─────┼─────┼─────┼─────┼─────┼─────┼─────┤     ├─────┼─────┼─────┼─────┼─────┼─────┼─────┴─────┼─────│
  │     │     │        │     │  6  │  7  │  8  │  9  │  0  │     │     │     │     │     │     │     │     │           │     │
  ├─────┼─────┤        ├─────┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┘  ┌──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬────────┼─────│
  │     │     │        │       │     │ Up  │Enter│ BSPC│ Del │      │     │     │     │     │     │     │     │        │     │
  ├─────┼─────┤        ├───────┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┐    └┬────┴┬────┴┬────┴┬────┴┬────┴┬────┴┬────┴┐ Enter ├─────│
  │     │     │        │Capslock │ Left│ Down│Right│     │     │     │ Left│ Down│ Up  │Right│     │     │     │       │     │
  ├─────┼─────┤        ├───────┬─┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┐   └─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴───┬─┴─────┴─┬─────┼─────│
  │DM_R1│DM_R2│        │OSM CS │   │     │     │     │     │     │     │     │     │     │     │       │   M1    │ WUp │  M2 │
  ├─────┼─────┤        ├───────┼───┴──┬──┴───┬─┴─────┴───┬─┴───┬─┘   ┌─┴─────┴─────┴─┬───┴───┬─┴───┬───┴───┬─────┼─────┼─────│
  │     │     │        │       │      │      │           │     │     │               │       │     │       │WLeft│WDown│WRigh│
  └─────┴─────┘        └───────┴──────┴──────┴───────────┴─────┘     └───────────────┴───────┴─────┴───────┴─────┴─────┴─────┘

  CAPS_FN(neoQWERTZish)┌─────┬─────┬─────┬─────┬─────┬─────┬─────┐     ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────
                       │     │     │     │     │     │     │     │     │     │     │     │     │     │     │     │     │     │
  ┌─────┬─────┐        ├─────┼─────┼─────┼─────┼─────┼─────┼─────┤     ├─────┼─────┼─────┼─────┼─────┼─────┼─────┴─────┼─────│
  │     │     │        │     │     │  Z  │  U  │  I  │  O  │  P  │     │     │     │     │     │     │     │           │     │
  ├─────┼─────┤        ├─────┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┘  ┌──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬────────┼─────│
  │     │     │        │       │     │  _  │  [  │  ]  │  ^  │      │  !  │  <  │  >  │  =  │  &  │     │     │        │     │
  ├─────┼─────┤        ├───────┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┐    └┬────┴┬────┴┬────┴┬────┴┬────┴┬────┴┬────┴┐       ├─────│
  │     │     │        │         │  \  │  /  │  {  │  }  │  *  │     │  ?  │  (  │  )  │  ─  │  :  │  @  │     │       │     │
  ├─────┼─────┤        ├───────┬─┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┐   └─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴───┬─┴─────┴─┬─────┼─────│
  │     │     │        │       │   │  #  │  $  │  |  │  ~  │  `  │     │  +  │  %  │  "  │  '  │   ;   │         │     │     │
  ├─────┼─────┤        ├───────┼───┴──┬──┴───┬─┴─────┴───┬─┴───┬─┘   ┌─┴─────┴─────┴─┬───┴───┬─┴───┬───┴───┬─────┼─────┼─────│
  │     │     │        │       │      │      │           │     │     │               │       │     │       │     │     │     │
  └─────┴─────┘        └───────┴──────┴──────┴───────────┴─────┘     └───────────────┴───────┴─────┴───────┴─────┴─────┴─────┘

  FN                   ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┐     ┌─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┬─────┐
                       │     │BL_TG│ BL+ │ BL- │BL_SP│     │     │     │RG_TG│RG_+ │RG_- │     │KNIGH│XMAS │CAPS │NLCK │SLCK │
  ┌─────┬─────┐        ├─────┼─────┼─────┼─────┼─────┼─────┼─────┤     ├─────┼─────┼─────┼─────┼─────┼─────┼─────┴─────┼─────│
  │GUI_ │GUI_ │        │     │     │     │     │     │     │     │     │PLAIN│BREAT│RAINB│SWIRL│SNAKE│GRADI│    TEST   │     │
  ├─────┼─────┤        ├─────┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┘  ┌──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬──┴──┬────────┼─────│
  │CMB_ │CMB_ │        │       │     │Mo_Up│     │RG_V+│RG_V-│      │RG_H+│RG_H-│     │     │     │     │     │        │     │
  ├─────┼─────┤        ├───────┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┐    └┬────┴┬────┴┬────┴┬────┴┬────┴┬────┴┬────┴┐       ├─────│
  │     │     │        │Capslock │Mo_L │Mo_Dn│Mo_R │RGSP+│RGSP-│     │RG_S+│RG_S-│     │     │     │     │     │       │RESET│
  ├─────┼─────┤        ├───────┬─┴─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴─┐   └─┬───┴─┬───┴─┬───┴─┬───┴─┬───┴───┬─┴─────┴─┬─────┼─────│
  │     │     │        │       │   │     │     │     │     │     │     │     │     │     │     │       │         │     │     │
  ├─────┼─────┤        ├───────┼───┴──┬──┴───┬─┴─────┴───┬─┴───┬─┘   ┌─┴─────┴─────┴─┬───┴───┬─┴───┬───┴───┬─────┼─────┼─────│
  │NORM │ SWAP│        │       │      │      │           │     │     │               │       │     │       │     │     │EE_PR│
  └─────┴─────┘        └───────┴──────┴──────┴───────────┴─────┘     └───────────────┴───────┴─────┴───────┴─────┴─────┴─────┘
 */

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
    [BASE]     = LAYOUT_iso(
                                        KC_ESC,  KC_F1,  KC_F2,   KC_F3,  KC_F4,  KC_F5, KC_F6, KC_F7, KC_F8, KC_F9,      KC_F10,KC_F11, KC_F12, KC_PSCR,KC_PPLS, KC_PMNS,
        KC_VOLD,KC_VOLU,                KC_GRV,  KC_1,   KC_2,    KC_3,   KC_4,   KC_5,  KC_6,                            KC_7,  KC_8,   KC_9,   KC_0,   KC_MINS, KC_EQL,  KC_BSPC, KC_INS,
        KC_MPRV,KC_MNXT,                KC_TAB,  KC_Q,   KC_W,    KC_E,   KC_R,   KC_T,                                   KC_Y,  KC_U,   KC_I,   KC_O,   KC_P,    KC_LBRC, KC_RBRC, KC_DEL,
        DM_RSTP,KC_MUTE,          LT(2, KC_ESC), KC_A,   KC_S,    KC_D,   KC_F,   KC_G,                                   KC_H,  KC_J,   KC_K,   KC_L,   KC_SCLN, KC_QUOT, KC_NUHS, KC_ENT, KC_PGUP,
        DM_PLY1, DM_PLY2,               KC_LSFT, KC_NUBS,KC_Z,    KC_X,   KC_C,   KC_V,  KC_B,                            KC_N,  KC_M,   KC_COMM,KC_DOT, KC_SLSH, KC_RSFT, KC_UP, KC_PGDN,
        MAIL,   KC_2,                   KC_LCTL, TD(CT_WIN),KC_LALT, KC_SPC, MO(1),                                          KC_SPC,        KC_RALT,MO(3),  KC_RCTL, KC_LEFT, KC_DOWN, KC_RGHT
        ),
    [SPACE_FN] = LAYOUT_iso(
                                        KC_ESC,  KC_F13, KC_F14,  KC_F15, KC_F16, KC_F17,                                KC_F18, KC_F19, KC_F20, KC_F21, KC_F22, KC_F23, KC_F24, _______, KC_HOME, KC_END,
        _______, _______,               _______, KC_6,   KC_7,    KC_8,   KC_9,   KC_0, _______,                         _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______,               KC_LOCK, _______, KC_UP,  KC_ENT,  KC_BSPC,KC_DEL,                                _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______,               KC_CAPS, KC_LEFT,KC_DOWN, KC_RGHT,_______,_______,                               KC_LEFT, KC_DOWN, KC_UP,  KC_RGHT,  _______, _______, _______, _______, _______,
        DM_REC1, DM_REC2, OSM(MOD_LCTL|MOD_LSFT),_______,_______, _______,_______,_______,  _______,                     _______, _______, _______, _______, _______, KC_BTN1, KC_WH_U, KC_BTN2,
        _______, _______,               _______, _______,_______, _______,_______,                                       _______,          _______, _______, _______, KC_WH_L, KC_WH_D, KC_WH_R
        ),
    [CAPS_FN]  = LAYOUT_iso(
                                        _______, _______, _______, _______, _______, _______,                            _______, _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______,               _______, KC_Z, KC_U, KC_I, KC_O, KC_P, KC_M,                                     _______, _______, _______, _______, _______, _______, _______, _______, _______,
        _______, _______,               _______, LSFT(KC_SLSH), RALT(KC_8), RALT(KC_9), LSFT(KC_NUHS),                   LSFT(KC_1), KC_NUBS, LSFT(KC_NUBS), LSFT(KC_0), LSFT(KC_6), _______, _______, _______,
        _______, _______,               _______, RALT(KC_MINS), LSFT(KC_7), RALT(KC_7), RALT(KC_0), LSFT(KC_RBRC),       LSFT(KC_MINS), LSFT(KC_8), LSFT(KC_9), KC_PMNS, LSFT(KC_DOT), RALT(KC_Q), _______, _______, _______,
        _______, _______,               _______, _______, KC_NUHS, LSFT(KC_4), RALT(KC_NUBS), RALT(KC_RBRC), BACKTIK,    KC_PPLS, LSFT(KC_5), LSFT(KC_2), LSFT(KC_NUHS), LSFT(KC_COMM), _______, _______, _______,
        _______, _______,               _______, _______, _______, _______, _______,                                     _______,          _______, _______, _______, _______, _______, _______
        ),
    [FN]       = LAYOUT_iso(
                                        _______, BL_TOGG, BL_INC,  BL_DEC,  BL_STEP, _______, _______,                   RGB_TOG, RGB_MOD, RGB_RMOD, _______,  RGB_M_K, RGB_M_X, KC_CAPS, KC_NLCK, KC_SLCK,
        _______, _______,               _______, _______, _______, _______, _______, _______, _______,                   RGB_M_P, RGB_M_B, RGB_M_R,  RGB_M_SW, RGB_M_SN, RGB_M_G, RGB_M_T, _______,
        _______, _______,               _______, _______, KC_MS_U, _______, RGB_VAI, RGB_VAD,                            RGB_HUI, RGB_HUD, _______,  _______,  _______, _______, _______, _______,
        _______, _______,               KC_CAPS, KC_MS_L, KC_MS_D, KC_MS_R, RGB_SPI, RGB_SPD,                            RGB_SAI, RGB_SAD, _______,  _______,  _______, _______, _______, _______, RESET,
        _______, _______,               _______, _______, _______, _______, _______, _______, _______,                   _______, _______, _______,  KC_WH_D,  KC_WH_U, _______, _______, _______,
        GE_NORM, GE_SWAP,               _______, _______, _______, _______, _______,                                     _______,          _______,  _______,  _______, _______, _______, EEP_RST
        )
};
;

